<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Diagram and Code Editor</title>

    <!-- CSS -->
    <link rel="stylesheet" href="adm.css">

    <!-- CodeMirror Core CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    
    <!-- Additional CodeMirror Themes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/eclipse.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/gruvbox-dark.min.css">
    

    <!-- CodeMirror Core JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/mode/overlay.min.js"></script>


    <!-- CodeMirror Language Mode for Gherkin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/gherkin/gherkin.min.js"></script>

    <!-- Viz.js to handle graphviz rendering. -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/viz.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/full.render.js"></script>

    <script src="gherkin.bundle.js"></script> <!-- Loads model into Gherkin document -->
    <script src="mapper.js"></script> <!-- Builds ADM graph out of a gherkin document -->
    <script src="adm.js"></script> <!-- The main ADM processing file -->
    <script src="graphviz.js"></script> <!-- Translates ADM graph to graphviz digraph code -->
    <script src="adm-ui.js"></script> <!-- The UI controller. Handles events and triggers processing/rendering -->
</head>
<body>
    <!--<div id="diagramArea" style="width: 100%; height: 100%;"></div>-->
    <div id="canvasContainer">
        <div id="diagramArea"></div>
        <!-- SVG will be injected into 'diagramArea' -->
    </div>    
    <div id="codeArea">
        <div id="codeHeader">
            <span>&nbsp;ADM Code</span>
            <select id="themePicker">
                <option value="default">Default</option>
                <option value="light">Light</option>
                <option value="monokai">Monokai</option>
                <option value="gruvbox-dark">Gruvbox</option>
                <option value="eclipse" selected>Eclipse</option>
            </select>
            <button id="maximizeHeightButton">⏉</button>
            <button id="maximizeWidthButton">├</button>
            <button id="minimizeButton">▼</button>
        </div>
        <textarea id="codeInput" placeholder="Write your Gherkin code here...">
Model: My security model
    Attack: Unmitigated attack
        When Attack actions are performed
        Then Attacker gains access to target

    Attack: Reconnaissance is performed on target
        When Recon actions are performed
        Then Attacker gains knowledge about vulnerabilities about target

    Attack: Exploitation
        Given Reconnaissance is performed on target
        When attacker exploits vulnerabilities
        Then Attacker gains access to target

    Defense: Reconnaissance activites are monitored
        Given Target has unmitigated vulnerabilities
        When Attacker gains knowledge about vulnerabilities about target
        Then Security Operations Center is notified

    Defense: Vulnerabilities are mitigated before release to production
        Given Target has unmitigated vulnerabilities
        When attacker exploits vulnerabilities
        Then security controls ensure vulnerabilities cannot be exploited
        </textarea>
        <div class="resize-handle top"></div>
        <div class="resize-handle left"></div>
        <div class="resize-handle corner"></div>
    </div>
    <div id="statusBar">
        🔍<span id="zoomPercentage">100%</span>
    </div>
</body>
</html>
